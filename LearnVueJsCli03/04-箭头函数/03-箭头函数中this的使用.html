<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>


<script>
    //什么时候使用箭头函数
    /*setTimeout(function () {
        console.log(this)   //window
    }, 1000)

    setTimeout(() => {
        console.log(this)   //window
    }, 1000)*/

    //结论: Stack Overflow箭头函数的this引用的是最近作用域的this
    //向上层作用域找this
   /* const obj = {
        aaa() {
            setTimeout(function () {
                console.log(this)   //window
            })

            setTimeout(() => {
                console.log(this)   //obj对象
            })
        }
    }
    obj.aaa()*/

    const obj = {
        aaa() {
            setTimeout(function () {
                setTimeout(function () {
                    console.log(this) //window
                })
                setTimeout(() => {
                    console.log(this) //window
                })
            })

            setTimeout(() => {
                setTimeout(function () {
                    console.log(this) //window
                })
                setTimeout(() => {
                    console.log(this)  //obj
                })
            })
        }
    }
    obj.aaa()
</script>
</body>
</html>